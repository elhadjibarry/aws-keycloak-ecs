{
    "family": "teksi-keycloak-dev",
    "networkMode": "awsvpc",
    "cpu": "1024",
    "memory": "2048",
    "taskRoleArn": "arn:aws:iam::276181481273:role/ecsTaskExecutionRole",
    "executionRoleArn": "arn:aws:iam::276181481273:role/ecsTaskExecutionRole",
    "containerDefinitions": [
      {
        "name": "teksi-keycloak",
        "image": "276181481273.dkr.ecr.ca-central-1.amazonaws.com/teksi-keycloak",
        "command": [
          "start-dev"
        ],
        "logConfiguration": {
          "logDriver": "awslogs",
          "options": {
            "awslogs-group": "/ecs/teksi-keycloak-dev",
            "awslogs-region": "ca-central-1",
            "awslogs-stream-prefix": "ecs",
            "awslogs-multiline-pattern": "^*(TRACE|DEBUG|INFO|WARN|ERROR)"
          }
        },
        "environment": [
              {
                "name": "KC_HEALTH_ENABLED",
                "value": "true"
              },
              {
                "name": "KC_METRICS_ENABLED",
                "value": "true"
              },
              {
                "name": "KC_DB",
                "value": "postgres"
              },
              {
                "name": "KC_DB_SCHEMA",
                "value": "keycloak_schema"
              },
              {
                "name": "KC_HTTP_ENABLED",
                "value": "true"
              },
              {
                "name": "KC_HOSTNAME_STRICT",
                "value": "false"
              },
              {
                "name": "KC_HOSTNAME_STRICT_HTTPS",
                "value": "false"
              },
              {
                "name": "KC_HOSTNAME_BACKCHANNEL_DYNAMIC",
                "value": "false"
              },
              {
                "name": "KC_LOG_LEVEL",
                "value": "INFO"
              },
              {
                "name": "KC_DB_URL",
                "value": "jdbc:postgresql://teksischooldb.cpirvlz2kt4b.ca-central-1.rds.amazonaws.com:5432/s2msDatabase"
              },
              {
                "name": "KC_DB_USERNAME",
                "value": "teksiAdmin"
              },
              {
                "name": "KC_DB_PASSWORD",
                "value": "admin123"
              },
              {
                "name": "KC_BOOTSTRAP_ADMIN_USERNAME",
                "value": "teksiAdmin"
              },
              {
                "name": "KC_BOOTSTRAP_ADMIN_PASSWORD",
                "value": "admin123"
              }
        ],
        "portMappings": [
          {
            "hostPort": 8080,
            "protocol": "tcp",
            "containerPort": 8080
          }
        ]
      }
    ],
    "requiresCompatibilities": [
      "FARGATE"
    ]
  }